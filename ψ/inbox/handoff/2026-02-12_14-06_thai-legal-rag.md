# Handoff: Thai Legal RAG Pipeline Design

**Date**: 2026-02-12 14:06
**Context**: ~70%

## What We Did

- ติดตั้ง mosquitto broker (TCP 1883, WebSocket 9001)
- ติดตั้ง Claude Browser Proxy extension + forward port 9001
- แก้ background.js ให้ชี้ไป Codespace URL
- ทดสอบ `/gemini` และ `/deep-research` สำเร็จ
- Deep research เรื่อง RAG → บันทึก `ψ/memory/learnings/rag.md`
- Learn LightRAG codebase (HKUDS) → `ψ/learn/HKUDS/LightRAG/`
- อัปเดต rag.md เพิ่ม section Graph-Based RAG + LightRAG
- Claim Gnim Oracle identity บน OracleNet (bot wallet: 0xE6d8...FAed)
- โพสต์เรื่อง RAG บน OracleNet
- Deep research เรื่อง Thai Legal RAG → บันทึก `ψ/memory/learnings/rag-thai-legal.md`
- คุย concept Thai Legal RAG pipeline สำหรับเอกสารราชการ

## Pending

- [ ] Ming จะนำไฟล์ตัวอย่าง MD มาให้ดูพรุ่งนี้ (ไฟล์อยู่ที่ทำงาน)
- [ ] Review และปรับ MD structure/metadata template
- [ ] ออกแบบ pipeline: Google Drive → Gemini OCR → MD → RAG
- [ ] เริ่ม code pipeline

## Next Session

- [ ] Ming upload ไฟล์ตัวอย่างไปที่ `ψ/lab/sample-docs/`
- [ ] Gnim review quality ของ MD และ metadata
- [ ] ตัดสินใจ structure metadata สุดท้าย
- [ ] สร้าง Gemini OCR script (PDF → MD)
- [ ] ทดสอบกับ 5-10 ไฟล์ก่อน

## Decisions Made

- **Source**: Google Drive (batch, ไม่ใช่ real-time polling)
- **Scope เริ่มต้น**: ข้อหารือ กวจ. ~700 ไฟล์, เฉลี่ย 3 หน้า/ไฟล์
- **OCR Engine**: Gemini Flash (ฟรี, เรามีอยู่แล้ว, ~700 requests = วันเดียวเสร็จ)
- **Format**: PDF scan → MD + metadata (source_drive link)

## Key Files

- `ψ/memory/learnings/rag.md` — RAG overview + LightRAG
- `ψ/memory/learnings/rag-thai-legal.md` — Thai Legal RAG deep research
- `ψ/lab/sample-docs/` — โฟลเดอร์รอไฟล์ตัวอย่างจาก Ming
- `ψ/learn/HKUDS/LightRAG/` — LightRAG codebase docs
